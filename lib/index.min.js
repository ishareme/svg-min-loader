"use strict";var SVGO=require("svgo"),loaderUtils=require("loader-utils"),defaultOpt={plugins:[{cleanupAttrs:!0},{removeDoctype:!0},{removeXMLProcInst:!0},{removeComments:!0},{removeMetadata:!0},{removeTitle:!0},{removeDesc:!0},{removeUselessDefs:!0},{removeEditorsNSData:!0},{removeEmptyAttrs:!0},{removeHiddenElems:!0},{removeEmptyText:!0},{removeEmptyContainers:!0},{removeViewBox:!1},{cleanupEnableBackground:!0},{convertStyleToAttrs:!0},{convertColors:!0},{convertPathData:!0},{convertTransform:!0},{removeUnknownsAndDefaults:!0},{removeNonInheritableGroupAttrs:!0},{removeUselessStrokeAndFill:!0},{removeUnusedNS:!0},{cleanupIDs:!0},{cleanupNumericValues:!0},{moveElemsAttrsToGroup:!0},{moveGroupAttrsToElems:!0},{collapseGroups:!0},{removeRasterImages:!1},{mergePaths:!0},{convertShapeToPath:!0},{sortAttrs:!0},{removeDimensions:!0},{removeAttrs:{attrs:"(stroke|fill)"}}]},isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};module.exports=function(e){this.cacheable(!0);var t=this.async(),r=loaderUtils.getOptions(this)||defaultOpt;r&&r.plugins&&isArray(r.plugins)?new SVGO(r).optimize(e,{path:this.resourcePath}).then(function(e){t(null,e.data)}).catch(function(e){t(e)}):t(new Error("options.plugins must be Array"))};